# ğŸ¤– n8n AI Customer Service Assistant: å®¢æœè³‡æ–™çµæ§‹åŒ–å°å¹«æ‰‹

é€™æ˜¯ä¸€å€‹å°‡ **n8n AI Agent** èˆ‡ **Google Sheets** æ·±åº¦æ•´åˆçš„è‡ªå‹•åŒ–å·¥ä½œæµã€‚å®ƒèƒ½è®“ AI è‡ªå‹•è®€å–åŸå§‹çš„å®¢æœå°è©±å…§å®¹ï¼Œå³æ™‚è¾¨è­˜æ¡ˆä»¶é¡å‹ã€æ‘˜è¦é‡é»ä¸¦æå–äººå“¡è³‡è¨Šï¼Œæœ€å¾Œç²¾æº–å›å¡«è‡³é›²ç«¯è¡¨æ ¼ã€‚

## ğŸ“– æµç¨‹ç°¡ä»‹
æœ¬å°ˆæ¡ˆå¯¦ç¾äº†ä»¥ä¸‹æ ¸å¿ƒé‚è¼¯ï¼š

* **æ•¸æ“šæŠ“å–**ï¼šå¾ Google Sheet æå–åŸå§‹ã€Œå®¢æœå…§å®¹ã€èˆ‡å°æ‡‰çš„ `row_number`ã€‚
* **AI æ¨ç† (Agent)**ï¼šAI è§£æå°è©±ç´€éŒ„ï¼Œè‡ªå‹•åˆ¤æ–·ã€Œå®¢æœé¡å‹ã€ã€æ’°å¯«ã€Œå…§å®¹æ‘˜è¦ã€ã€ä¸¦è¾¨è­˜ã€Œå®¢æœäººå“¡ã€èˆ‡ã€Œé¡§å®¢å§“åã€ã€‚
* **å¯¦æ™‚å›å¡« (Update)**ï¼šAI è‡ªå‹•èª¿ç”¨ Google Sheets å·¥å…·ï¼Œå°‡çµæ§‹åŒ–å¾Œçš„è³‡æ–™å›å‚³è‡³æŒ‡å®šæ¬„ä½ã€‚
* **æ‰¹æ¬¡åŸ·è¡Œ**ï¼šé€é Loop ç¯€é»é€ä¸€è™•ç†æ¯ä¸€ç­†å°è©±ï¼Œç¢ºä¿è³‡æ–™è™•ç†çš„ç©©å®šæ€§ã€‚

---
## ğŸ”— ç¯€é»åŠŸèƒ½èªªæ˜

### 1. Manual Trigger
æ‰‹å‹•é»æ“Š **ã€ŒWhen clicking â€˜Execute workflowâ€™ã€** ä»¥å•Ÿå‹•æ•´å€‹æµç¨‹ï¼Œé©åˆæ¸¬è©¦æˆ–ä¸€æ¬¡æ€§æ‰¹æ¬¡è™•ç†ã€‚

### 2. Get row(s) in sheet
å¾æŒ‡å®šçš„ Google Sheetï¼ˆå·¥ä½œè¡¨åç¨±ï¼š**è³‡æ–™çµæ§‹åŒ–**ï¼‰è®€å–æ‰€æœ‰å¾…è™•ç†çš„å®¢æœå…§å®¹ã€‚

### 3. Loop Over Items
æ ¸å¿ƒå¾ªç’°æ©Ÿåˆ¶ï¼Œå°‡è³‡æ–™é€ç­†æˆ–åˆ†æ‰¹è™•ç†ï¼Œä»¥é¿å…çŸ­æ™‚é–“å…§å¤§é‡ API è«‹æ±‚é€ æˆç³»çµ±éè¼‰ã€‚

### 4. AI Agentï¼ˆOpenAIï¼‰
- **æ¨¡å‹**ï¼š`gpt-4.1-mini`
- **ç³»çµ±æŒ‡ä»¤**ï¼š  
  æ¥æ”¶ã€Œå®¢æœå…§å®¹ã€è³‡æ–™ï¼Œä¸¦è¦æ±‚ AI **ä»¥ç¹é«”ä¸­æ–‡**æå–ä»¥ä¸‹è³‡è¨Šï¼š
  - `type`ï¼šæŠ•è¨´ã€è©¢åƒ¹ã€æ„Ÿè¬ã€å”®å¾Œï¼ˆå››é¸ä¸€ï¼‰
  - `excerpt`ï¼šæ¿ƒç¸®è‡³ç´„ 30 å­—çš„å…§å®¹æ‘˜è¦
  - `staff`ï¼šå°è©±ä¸­çš„å®¢æœæˆ–å…§éƒ¨äººå“¡å§“å
  - `customer`ï¼šå°è©±ä¸­çš„å®¢æˆ¶å§“å

### 5. Google Sheets Toolï¼ˆUpdateï¼‰
ç•¶ AI Agent å®Œæˆåˆ†æå¾Œï¼Œä¾æ“š `row_number` ç²¾æº–åŒ¹é…åŸå§‹è³‡æ–™åˆ—ï¼Œä¸¦è‡ªå‹•æ›´æ–°ä»¥ä¸‹æ¬„ä½ï¼š
- `type`
- `excerpt`
- `staff`
- `customer`

### 6. Wait
æ¯æ¬¡è³‡æ–™æ›´æ–°å®Œæˆå¾Œï¼ŒåŠ å…¥ **1 ç§’ç­‰å¾…æ™‚é–“**ï¼Œä»¥é™ä½ API å‘¼å«é »ç‡ï¼Œç¢ºä¿æµç¨‹ç©©å®šåŸ·è¡Œã€‚

---

## ğŸ“Š è³‡æ–™ä¾†æºèªªæ˜

æœ¬å°ˆæ¡ˆå°æ¥çš„ Google Sheets åŒ…å«åŸå§‹å®¢æœå°è©±ç´€éŒ„ï¼Œä»¥åŠé ç•™çš„çµæ§‹åŒ–æ¬„ä½ï¼Œä¾› AI è‡ªå‹•è£œé½Šã€‚

ğŸ“ **Google Sheets é€£çµ**  
ğŸ‘‰ é»æ­¤æŸ¥çœ‹å®¢æœè³‡æ–™çµæ§‹åŒ–è¡¨ï¼ˆhttps://docs.google.com/spreadsheets/d/12R3GaPyQJSAPs6scPDasvhyVxC27jicx56Cf18Yjs_Q/edit?gid=0#gid=0ï¼‰

---

## ğŸ› ï¸ å®‰è£èˆ‡ä½¿ç”¨æ–¹å¼

### 1ï¸âƒ£ åŒ¯å…¥å·¥ä½œæµ
å°‡å°ˆæ¡ˆæä¾›çš„ `å®¢æœè³‡æ–™çµæ§‹åŒ–.json` æª”æ¡ˆåŒ¯å…¥è‡³ n8nã€‚

### 2ï¸âƒ£ è¨­å®šæ†‘è­‰
- è¨­å®š **OpenAI API Key**
- è¨­å®š **Google Sheets OAuth2** æˆæ¬Š

### 3ï¸âƒ£ æª¢æŸ¥è©¦ç®—è¡¨çµæ§‹
ç¢ºèª Google Sheet å…§åŒ…å«ä»¥ä¸‹æ¨™é¡Œæ¬„ä½ï¼š

- `å®¢æœå…§å®¹`
- `type`
- `excerpt`
- `staff`
- `customer`
- `row_number`

### 4ï¸âƒ£ å•Ÿå‹•å·¥ä½œæµ
é»æ“Š **Execute workflow**ï¼Œç³»çµ±å°‡è‡ªå‹•ï¼š
- åˆ†æå®¢æœå°è©±å…§å®¹
- é€²è¡Œåˆ†é¡èˆ‡æ‘˜è¦
- å›å¯«çµæ§‹åŒ–çµæœè‡³å°æ‡‰æ¬„ä½

---

## âœ… é©ç”¨å ´æ™¯

- å®¢æœå°è©±åˆ†é¡èˆ‡çµ±è¨ˆåˆ†æ
- æŠ•è¨´èˆ‡å”®å¾Œæ¡ˆä»¶å¿«é€Ÿå½™æ•´
- å»ºç«‹å¾ŒçºŒ BI æˆ–å ±è¡¨åˆ†æè³‡æ–™æº
- AI é©…å‹•çš„è³‡æ–™æ¸…æ´—èˆ‡çµæ§‹åŒ–æµç¨‹ç¤ºç¯„

---

## ğŸ—ï¸ æµç¨‹çµæ§‹ (Workflow Structure)

### è¦–è¦ºåŒ–æµç¨‹åœ–
```mermaid
graph TD
    A[Manual Trigger] --> B[Get row's in sheet]
    B --> C{Loop Over Items}
    C -- Loop --> D[AI Agent]
    D -- Call Tool --> E[Update Google Sheets]
    E --> F[Wait 1s]
    F --> C
    C -- Done --> G[End]
```

## ğŸ“¸ åŸ·è¡Œæˆªåœ–ç¯„ä¾‹

![å·¥ä½œæµé…ç½®](/images/workflow.png)
![google_sheet](/images/google_sheet.png)
